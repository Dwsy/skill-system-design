# Guardrails 配置文件
# 文档: https://pi.dev/docs/guardrails

version: "1.0.0"

# 预设配置
presets:
  - personal

# 规则配置
rules:
  safe-rm:
    enabled: true
    severity: error
    options:
      redirectToTrash: true
      requireConfirmationForRecursive: true

  safe-git:
    enabled: true
    severity: warning
    options:
      stashBeforeReset: true
      checkBranchProtection: true

  tool-matrix:
    enabled: true
    severity: info

  dependency-audit:
    enabled: true
    severity: error
    options:
      maxVulnerabilities: 0
      requireLockfile: true

  secrets-guard:
    enabled: true
    severity: error
    options:
      patterns:
        - API_KEY
        - SECRET
        - PASSWORD
        - TOKEN
      scanFiles:
        - *.ts
        - *.js
        - *.json
        - *.yml
        - *.yaml
