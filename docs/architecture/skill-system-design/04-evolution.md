# 04 - Evolution: æŠ€èƒ½æ¼”åŒ–æœºåˆ¶

> æŠ€èƒ½ä¸æ˜¯å†™å¥½åæŸä¹‹é«˜é˜ï¼Œè€Œæ˜¯æŒç»­è¿›åŒ–çš„ç”Ÿå‘½ä½“ã€‚

## TL;DR

- **é—®é¢˜**ï¼šæŠ€èƒ½å†™å¥½åå®¹æ˜“åƒµåŒ–ï¼Œéšé¡¹ç›®/å·¥å…·å˜åŒ–è€Œè¿‡æ—¶
- **æ–¹æ¡ˆ**ï¼š`evolution.yml` å®šä¹‰å¥åº·æ£€æŸ¥ã€æ›´æ–°ç­–ç•¥ã€ç”Ÿå‘½å‘¨æœŸ
- **æ ¸å¿ƒæœºåˆ¶**ï¼šç‰ˆæœ¬æ„ŸçŸ¥ã€ç¤¾åŒºåé¦ˆã€è‡ªåŠ¨åŒ–æ¼”åŒ–
- **ç›®æ ‡**ï¼šæŠ€èƒ½éšå·¥åŒ ä¸€èµ·è¿›åŒ–ï¼Œæ°¸ä¸è½ä¼

---

## ä¸ºä»€ä¹ˆéœ€è¦æ¼”åŒ–æœºåˆ¶ï¼Ÿ

### æŠ€èƒ½åƒµåŒ–çš„çœŸå®æ¡ˆä¾‹

```yaml
# 2024å¹´åˆå†™çš„ skill
skill: "deploy-to-k8s"
config:
  kubectl_version: "1.20"  # å½“æ—¶æœ€æ–°
  api_version: "apps/v1"

# 2025å¹´çš„ç°å®
- k8s 1.20 EOLï¼Œå­˜åœ¨å®‰å…¨æ¼æ´
- æ–° API ç‰ˆæœ¬ deprecate äº†æ—§è¯­æ³•
- å›¢é˜Ÿå·²è¿ç§»åˆ° Helm
- è¿™ä¸ª skill æˆäº†æŠ€æœ¯å€ºåŠ¡
```

**ç—›ç‚¹**ï¼š
- å¼€å‘è€…ä¸çŸ¥é“æŠ€èƒ½å·²è¿‡æ—¶
- æ²¡æœ‰æœºåˆ¶é¢„è­¦æ½œåœ¨é—®é¢˜
- è¿ç§»æˆæœ¬éšæ—¶é—´æŒ‡æ•°å¢é•¿

### æ¼”åŒ–æœºåˆ¶çš„ä»·å€¼

```
ä¼ ç»Ÿæ¨¡å¼ï¼šæŠ€èƒ½å¼€å‘ â†’ å‘å¸ƒ â†’ é€æ¸è¿‡æ—¶ â†’ è¢«é—å¿˜
æ¼”åŒ–æ¨¡å¼ï¼šæŠ€èƒ½å¼€å‘ â†’ å‘å¸ƒ â†’ æŒç»­å¥åº·æ£€æŸ¥ â†’ è‡ªåŠ¨æ›´æ–° â†’ é•¿æœŸç»´æŠ¤
```

---

## evolution.yml è§„èŒƒ

```yaml
# .pi/skills/@acme/deploy/evolution.yml
evolution:
  version: "1.0.0"              # evolution.yml è‡ªèº«ç‰ˆæœ¬
  
  # ========== å¥åº·æ£€æŸ¥ ==========
  health_check:
    # è¿è¡Œæ—¶ä¾èµ–ç‰ˆæœ¬æ£€æŸ¥
    - type: "command"
      name: "kubectl_version"
      command: "kubectl version --client -o json"
      extract: "{.clientVersion.gitVersion}"
      expected: ">=1.25.0"
      severity: error             # error / warning / info
      message: "kubectl ç‰ˆæœ¬è¿‡ä½ï¼Œè¯·å‡çº§"
      
    # æ–‡ä»¶å­˜åœ¨æ€§æ£€æŸ¥
    - type: "file_exists"
      path: "kubeconfig"
      severity: warning
      message: "æœªæ‰¾åˆ° kubeconfigï¼ŒæŠ€èƒ½å¯èƒ½æ— æ³•æ­£å¸¸å·¥ä½œ"
      
    # API å…¼å®¹æ€§æ£€æŸ¥
    - type: "api_stability"
      package: "@kubernetes/client-node"
      export: "CoreV1Api"
      severity: error
      message: "ä¾èµ– API å·²å¼ƒç”¨ï¼Œè¯·æ›´æ–°æŠ€èƒ½"
      
    # è‡ªå®šä¹‰è„šæœ¬æ£€æŸ¥
    - type: "script"
      path: "./check-compatibility.sh"
      severity: warning
  
  # ========== æ›´æ–°ç­–ç•¥ ==========
  update_policy:
    # è‡ªåŠ¨æ›´æ–°èŒƒå›´
    auto: [patch]                 # patch ç‰ˆæœ¬è‡ªåŠ¨æ›´æ–°
    prompt: [minor]               # minor ç‰ˆæœ¬æç¤ºç¡®è®¤
    manual: [major]               # major ç‰ˆæœ¬äººå·¥å®¡æ ¸
    
    # æ›´æ–°å‰æ£€æŸ¥
    pre_update_check:
      - "health_check"
      - "compatibility_test"
    
    # å›æ»šç­–ç•¥
    rollback_on_failure: true
    backup_count: 3               # ä¿ç•™æœ€è¿‘ 3 ä¸ªç‰ˆæœ¬
  
  # ========== ç”Ÿå‘½å‘¨æœŸ ==========
  lifecycle:
    status: active                # active / deprecated / eol
    
    # ç»´æŠ¤æ‰¿è¯º
    support:
      minimum_months: 24          # è‡³å°‘ç»´æŠ¤ 24 ä¸ªæœˆ
      bugfix_until: "2026-12-31"
      security_until: "2027-12-31"
    
    # å¼ƒç”¨è®¡åˆ’ï¼ˆå¦‚é€‚ç”¨ï¼‰
    deprecation:
      scheduled: "2027-06-01"
      migration_guide: "https://docs.acme.io/migrate-deploy-v2"
      superseded_by: "@acme/deploy-v2"
      
      # æ¸è¿›å¼é€šçŸ¥
      notifications:
        - at: "2027-03-01"        # 3ä¸ªæœˆå‰
          level: warning
          message: "æ­¤æŠ€èƒ½å°†äº 2027-06-01 å¼ƒç”¨ï¼Œå»ºè®®å¼€å§‹è¿ç§»"
        - at: "2027-05-01"        # 1ä¸ªæœˆå‰
          level: error
          message: "ç´§æ€¥ï¼šæŠ€èƒ½å³å°†åœæ­¢ç»´æŠ¤"
  
  # ========== åé¦ˆæ¸ é“ ==========
  feedback:
    # é—®é¢˜æŠ¥å‘Š
    issues: "https://github.com/acme/skills/issues"
    
    # ä½¿ç”¨ç»Ÿè®¡ï¼ˆå¯é€‰ï¼‰
    telemetry:
      enabled: true
      level: 2                    # 0-3 åˆ†çº§
      # 0: å®Œå…¨é™é»˜
      # 1: å…ƒæ•°æ®ï¼ˆæŠ€èƒ½IDã€ç‰ˆæœ¬ã€ä½¿ç”¨é¢‘ç‡ï¼‰
      # 2: ä¸Šä¸‹æ–‡ï¼ˆé”™è¯¯ç±»å‹ã€ä¾èµ–ç‰ˆæœ¬ã€OS/Nodeç‰ˆæœ¬ï¼‰
      # 3: è¯¦ç»†ï¼ˆå®Œæ•´å‘½ä»¤ã€éƒ¨åˆ†ä»£ç ç‰‡æ®µï¼‰
      
      # éšç§ä¿æŠ¤
      sanitize: true              # æœ¬åœ°è„±æ•åä¸ŠæŠ¥
      audit_log: "~/.pi/telemetry.log"  # ç”¨æˆ·å¯å®¡è®¡
      disable_command: "pi telemetry disable @acme/deploy"
```

---

## å¥åº·æ£€æŸ¥è¿è¡Œæ—¶

### æ£€æŸ¥æ—¶æœº

```yaml
health_check_schedule:
  # æŠ€èƒ½åŠ è½½æ—¶ï¼ˆè½»é‡æ£€æŸ¥ï¼‰
  on_load:
    - "version_compatibility"
    
  # æŠ€èƒ½æ‰§è¡Œæ—¶ï¼ˆå¿«é€Ÿæ£€æŸ¥ï¼‰
  on_execute:
    - "critical_dependencies"
    
  # å®šæœŸæ·±åº¦æ£€æŸ¥ï¼ˆcronï¼‰
  periodic:
    interval: "1 week"
    checks: ["all"]
    
  # å¤±è´¥åè¯Šæ–­
  on_failure:
    - "dependency_health"
    - "environment_check"
```

### æ£€æŸ¥ç»“æœå¤„ç†

```typescript
enum HealthStatus {
  HEALTHY = 'healthy',           // ä¸€åˆ‡æ­£å¸¸
  DEGRADED = 'degraded',         // å¯è¿è¡Œä½†æœ‰è­¦å‘Š
  UNHEALTHY = 'unhealthy',       // éœ€è¦å…³æ³¨
  CRITICAL = 'critical'          // å¿…é¡»ç«‹å³å¤„ç†
}

interface HealthReport {
  skill: string;
  version: string;
  status: HealthStatus;
  checks: CheckResult[];
  recommendations: string[];
  auto_fix_available: boolean;
}
```

### CLI äº¤äº’

```bash
# æŸ¥çœ‹æŠ€èƒ½å¥åº·çŠ¶å†µ
$ pi skill health @acme/deploy
âœ“ kubectl version: 1.28.2 (æ»¡è¶³ >=1.25.0)
âš  kubeconfig: ä½¿ç”¨é»˜è®¤è·¯å¾„ï¼Œå»ºè®®æ˜¾å¼é…ç½®
âœ“ API å…¼å®¹æ€§: æ‰€æœ‰ä¾èµ–æ­£å¸¸

çŠ¶æ€: DEGRADED (å¯è¿è¡Œï¼Œå»ºè®®ä¼˜åŒ–é…ç½®)

# ä¸€é”®ä¿®å¤å¯è‡ªåŠ¨è§£å†³çš„é—®é¢˜
$ pi skill health @acme/deploy --fix
å·²ä¿®å¤: kubeconfig è·¯å¾„ â†’ æ˜¾å¼è®¾ç½®ä¸º ~/.kube/config

# æŸ¥çœ‹æ‰€æœ‰æŠ€èƒ½çš„æ±‡æ€»æŠ¥å‘Š
$ pi skill health --all
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Skill          â”‚ Status   â”‚ Recommendations     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ @acme/deploy   â”‚ DEGRADED â”‚ ä¼˜åŒ– kubeconfig     â”‚
â”‚ @acme/lint     â”‚ HEALTHY  â”‚ -                   â”‚
â”‚ @acme/test     â”‚ WARNING  â”‚ Node ç‰ˆæœ¬å»ºè®®å‡çº§   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ›´æ–°ç­–ç•¥è¯¦è§£

### ç‰ˆæœ¬å·è¯­ä¹‰

```
major.minor.patch

- patch: bugfix, å®‰å…¨è¡¥ä¸ (è‡ªåŠ¨æ›´æ–°)
- minor: æ–°åŠŸèƒ½, å‘åå…¼å®¹ (æç¤ºç¡®è®¤)
- major: ç ´åæ€§å˜æ›´ (äººå·¥å®¡æ ¸)
```

### æ›´æ–°æµç¨‹

```yaml
update_workflow:
  # 1. æ£€æµ‹æ–°ç‰ˆæœ¬
  check:
    - æŸ¥è¯¢ registry
    - æ¯”è¾ƒå½“å‰ç‰ˆæœ¬
    - è¯„ä¼°æ›´æ–°çº§åˆ«
    
  # 2. æ ¹æ®ç­–ç•¥å¤„ç†
  decision:
    patch:
      action: "auto_update"
      notify: "silent"            # é™é»˜æ›´æ–°ï¼Œä»…è®°å½•æ—¥å¿—
      
    minor:
      action: "prompt_user"
      message: "å‘ç°æ–°ç‰ˆæœ¬ 1.3.0ï¼ŒåŒ…å«ä»¥ä¸‹æ”¹è¿›ï¼š..."
      
    major:
      action: "request_review"
      show_changelog: true
      highlight_breaking_changes: true
      
  # 3. æ‰§è¡Œæ›´æ–°
  execute:
    - åˆ›å»ºå¤‡ä»½
    - ä¸‹è½½æ–°ç‰ˆæœ¬
    - è¿è¡Œå…¼å®¹æ€§æµ‹è¯•
    - åº”ç”¨æ›´æ–°
    
  # 4. éªŒè¯
  verify:
    - è¿è¡Œå¥åº·æ£€æŸ¥
    - éªŒè¯æ ¸å¿ƒåŠŸèƒ½
    - å¤±è´¥åˆ™è‡ªåŠ¨å›æ»š
```

### ç‰ˆæœ¬é”å®š

```yaml
# é¡¹ç›®çº§ç‰ˆæœ¬é”å®š
# .pi/skills.lock
skills:
  "@acme/deploy": "1.2.3"      # ç²¾ç¡®é”å®š
  "@acme/lint": "^1.0.0"       # å…è®¸å…¼å®¹æ›´æ–°
  "@acme/test": "~2.1.0"       # ä»… patch æ›´æ–°
```

---

## å¼ƒç”¨ä¸è¿ç§»

### æ¸è¿›å¼å¼ƒç”¨ç­–ç•¥

```yaml
deprecation_strategy:
  # é˜¶æ®µ 1: ä¸»åŠ¨ç»´æŠ¤æœŸ
  active:
    status: "ç§¯æå¼€å‘"
    updates: "feature + bugfix + security"
    
  # é˜¶æ®µ 2: ç»´æŠ¤æ¨¡å¼
  maintenance:
    trigger: "æ–°ç‰ˆæœ¬å‘å¸ƒ"
    duration: "12 months"
    updates: "bugfix + security"
    message: "å»ºè®®ä½¿ç”¨æ–°ç‰ˆæœ¬ @acme/deploy-v2"
    
  # é˜¶æ®µ 3: å¼ƒç”¨è­¦å‘Š
  deprecated:
    trigger: "ç»´æŠ¤æœŸç»“æŸ"
    duration: "6 months"
    updates: "ä»…å®‰å…¨è¡¥ä¸"
    level: "warning"
    message: "æ­¤æŠ€èƒ½å·²å¼ƒç”¨ï¼Œè¯·å°½å¿«è¿ç§»"
    
  # é˜¶æ®µ 4: åœæ­¢ç»´æŠ¤ (EOL)
  eol:
    trigger: "å¼ƒç”¨æœŸç»“æŸ"
    action: "redirect"
    redirect_to: "@acme/deploy-v2"
    message: "æ­¤æŠ€èƒ½å·²åœæ­¢ç»´æŠ¤ï¼Œå·²è‡ªåŠ¨åˆ‡æ¢åˆ°æ–°ç‰ˆæœ¬"
```

### ç”Ÿå‘½å‘¨æœŸçŠ¶æ€æµè½¬

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                                      â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   æ–°ç‰ˆæœ¬å‘å¸ƒ   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
    â”‚  active  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ maintenance  â”‚         â”‚
    â”‚ ç§¯æå¼€å‘  â”‚                â”‚   ç»´æŠ¤æ¨¡å¼    â”‚         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
                                      â”‚                  â”‚
                                      â”‚ 12ä¸ªæœˆå          â”‚
                                      â–¼                  â”‚
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
                              â”‚  deprecated  â”‚           â”‚
                              â”‚   å¼ƒç”¨è­¦å‘Š    â”‚           â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
                                      â”‚                  â”‚
                                      â”‚ 6ä¸ªæœˆå           â”‚
                                      â–¼                  â”‚
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
                              â”‚     eol      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚  åœæ­¢ç»´æŠ¤     â”‚  è‡ªåŠ¨é‡å®šå‘åˆ°æ–°ç‰ˆæœ¬
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ—¶é—´çº¿ç¤ºä¾‹**ï¼ˆä»¥ @acme/deploy v1 ä¸ºä¾‹ï¼‰ï¼š

| æ—¶é—´ç‚¹ | çŠ¶æ€ | ç”¨æˆ·çœ‹åˆ°çš„æ¶ˆæ¯ |
|-------|------|---------------|
| 2024-01 | active | ç§¯æå¼€å‘ä¸­ |
| 2025-01 | maintenance | v2 å·²å‘å¸ƒï¼Œå»ºè®®å‡çº§ |
| 2026-01 | deprecated | âš ï¸ å³å°†å¼ƒç”¨ï¼Œè¯·è¿ç§» |
| 2026-07 | eol | ğŸ”„ å·²è‡ªåŠ¨åˆ‡æ¢åˆ° v2 |

### è¿ç§»ä½“éªŒè®¾è®¡

```bash
# è‡ªåŠ¨æ£€æµ‹è¿ç§»éœ€æ±‚
$ pi skill check-migration
å‘ç°å¯è¿ç§»æŠ€èƒ½ï¼š
  @acme/deploy v1 â†’ @acme/deploy-v2 v2.1.0
  
# æŸ¥çœ‹è¿ç§»æŒ‡å—
$ pi skill migrate @acme/deploy --preview
è¿ç§»æ­¥éª¤ï¼š
  1. å¤‡ä»½å½“å‰é…ç½® â†’ deploy-v1-backup.yml
  2. æ›´æ–°é…ç½®æ–‡ä»¶æ ¼å¼
  3. å®‰è£…æ–°ç‰ˆæœ¬
  4. è¿è¡Œå…¼å®¹æ€§æµ‹è¯•
  
é¢„è®¡è€—æ—¶: 5åˆ†é’Ÿ
é£é™©ç­‰çº§: ä½ï¼ˆå‘åå…¼å®¹ï¼‰

# ä¸€é”®è¿ç§»
$ pi skill migrate @acme/deploy --execute
âœ“ æ­¥éª¤ 1/4 å®Œæˆ
âœ“ æ­¥éª¤ 2/4 å®Œæˆ
âœ“ æ­¥éª¤ 3/4 å®Œæˆ
âœ“ æ­¥éª¤ 4/4 å®Œæˆ - æ‰€æœ‰æµ‹è¯•é€šè¿‡

è¿ç§»æˆåŠŸï¼æ—§ç‰ˆæœ¬é…ç½®å·²å¤‡ä»½è‡³ ~/.pi/backups/deploy-v1-backup.yml
```

---

## éšç§ä¸ä¿¡ä»»

### Telemetry åˆ†çº§è®¾è®¡

| çº§åˆ« | æ•°æ®ç±»å‹ | ä¸ŠæŠ¥å†…å®¹ | ä½¿ç”¨ç›®çš„ |
|-----|---------|---------|---------|
| 0 | å®Œå…¨é™é»˜ | æ—  | ä¸é€‚ç”¨ |
| 1 | å…ƒæ•°æ® | æŠ€èƒ½IDã€ç‰ˆæœ¬ã€ä½¿ç”¨é¢‘ç‡ | ç»Ÿè®¡æ´»è·ƒåº¦ |
| 2 | ä¸Šä¸‹æ–‡ | + é”™è¯¯ç±»å‹ã€ä¾èµ–ç‰ˆæœ¬ã€ç¯å¢ƒä¿¡æ¯ | é—®é¢˜è¯Šæ–­ |
| 3 | è¯¦ç»† | + ä»£ç ç‰‡æ®µã€å®Œæ•´å‘½ä»¤ | æ·±åº¦åˆ†æ |

### éšç§ä¿æŠ¤åŸåˆ™

```yaml
privacy_principles:
  # 1. æœ¬åœ°ä¼˜å…ˆ
  analyze_locally: true         # å…ˆåœ¨æœ¬åœ°åˆ†æï¼Œä»…å¿…è¦æ—¶ä¸ŠæŠ¥
  
  # 2. å®Œå…¨é€æ˜
  audit_log: true               # ç”¨æˆ·éšæ—¶æŸ¥çœ‹ä¸ŠæŠ¥å†…å®¹
  preview_before_send: true     # å‘é€å‰å±•ç¤º
  
  # 3. ç”¨æˆ·æŒæ§
  opt_in: true                  # é»˜è®¤å…³é—­ï¼Œç”¨æˆ·ä¸»åŠ¨å¼€å¯
  granular_control: true        # å¯åˆ†æŠ€èƒ½è®¾ç½®çº§åˆ«
  disable_anytime: true         # éšæ—¶å¯å…³é—­
  
  # 4. å·¥åŒ è§†è§’
  purpose: "å¸®ä½ ä¼˜åŒ–å·¥ä½œæµ"
  not_for: "äº§å“åˆ†ææˆ–å•†ä¸šç›®çš„"
```

### æ–‡æ¡ˆè®¾è®¡çš„å·¥åŒ è§†è§’

è¯¦è§ [01-philosophy](./01-philosophy.md#æ–‡æ¡ˆè®¾è®¡ç¤ºä¾‹)ï¼Œtelemetry çš„æ–‡æ¡ˆåº”è¯¥éµå¾ªã€Œå·¥åŒ å·¥å…·ã€è€Œéã€Œå‚å•†äº§å“ã€çš„è§†è§’ï¼š

```yaml
# âŒ å‚å•†è§†è§’
install_message: "æ¬¢è¿ä½¿ç”¨æˆ‘ä»¬çš„æ™ºèƒ½æŠ€èƒ½å¹³å°"
update_message: "æˆ‘ä»¬å‘å¸ƒäº†æ–°åŠŸèƒ½"
telemetry_message: "å¸®åŠ©æˆ‘ä»¬æ”¹è¿›äº§å“"

# âœ… å·¥åŒ è§†è§’
telemetry_message: "ä¸ºä½ ç›‘æµ‹å·¥å…·å¥åº·çŠ¶å†µï¼Œé¢„è­¦æ½œåœ¨é—®é¢˜"
purpose_statement: "è¿™äº›æ´å¯Ÿä»…ä¾›ä½ å‚è€ƒï¼Œæˆ‘ä»¬ä¸ä¼šç”¨å®ƒåšä»»ä½•äº§å“å†³ç­–"
```

è¿™ç§æ–‡æ¡ˆè®¾è®¡è®©å·¥åŒ æ„Ÿå—åˆ°ï¼š**æ•°æ®æ˜¯ç”¨æ¥å¸®åŠ©è‡ªå·±æå‡æ‰‹è‰ºçš„ï¼Œè€Œä¸æ˜¯è¢«å‚å•†åˆ©ç”¨çš„**ã€‚

---

## æœ€ä½³å®è·µ

### æŠ€èƒ½å¼€å‘è€…

1. **ä¸ºæ¯ä¸ªæŠ€èƒ½ç¼–å†™ evolution.yml**
   ```yaml
   # å³ä½¿æ˜¯ç®€å•æŠ€èƒ½ä¹Ÿè¦æœ‰åŸºç¡€æ£€æŸ¥
   health_check:
     - type: "command"
       command: "which node"
       expected: "exists"
   ```

2. **æ˜ç¡®ç»´æŠ¤æ‰¿è¯º**
   ```yaml
   lifecycle:
     support:
       minimum_months: 12
   ```

3. **æä¾›æ¸…æ™°çš„å¼ƒç”¨è·¯å¾„**
   ```yaml
   deprecation:
     migration_guide: "æ˜ç¡®å†™å‡ºè¿ç§»æ­¥éª¤"
     superseded_by: "æŒ‡æ˜æ›¿ä»£å“"
   ```

### æŠ€èƒ½ä½¿ç”¨è€…

1. **å®šæœŸè¿è¡Œå¥åº·æ£€æŸ¥**
   ```bash
   # æ·»åŠ åˆ° weekly routine
   pi skill health --all
   ```

2. **å…³æ³¨å¼ƒç”¨é€šçŸ¥**
   ```bash
   # æŸ¥çœ‹å³å°†å¼ƒç”¨çš„æŠ€èƒ½
   pi skill list --deprecated
   ```

3. **åŠæ—¶è¿ç§»**
   ```bash
   # ä¸è¦ç­‰åˆ° EOL æ‰è¿ç§»
   pi skill migrate --all --preview
   ```

---

## æ€»ç»“

**evolution.yml çš„æ ¸å¿ƒä»·å€¼**ï¼š

1. **è‡ªåŠ¨åŒ–**ï¼šæ— éœ€æ‰‹åŠ¨æ£€æŸ¥ï¼Œç³»ç»Ÿè‡ªåŠ¨é¢„è­¦
2. **æ¸è¿›å¼**ï¼šå°æ­¥å¿«è·‘ï¼Œé¿å…å¤§ç‰ˆæœ¬æ–­è£‚
3. **å¯ä¿¡ä»»**ï¼šé€æ˜çš„ç”Ÿå‘½å‘¨æœŸæ‰¿è¯ºï¼Œå¯é¢„æœŸçš„ç»´æŠ¤
4. **å·¥åŒ å‹å¥½**ï¼šå®Œå…¨æŒæ§ï¼Œéšæ—¶å¯å®¡è®¡ã€å¯å…³é—­

æŠ€èƒ½ä¸æ˜¯é™æ€çš„ä»£ç ï¼Œè€Œæ˜¯**ä¸å·¥åŒ å…±åŒè¿›åŒ–çš„ä¼™ä¼´**ã€‚

---

*Related: [05-privacy](./05-privacy.md) - è¯¦ç»†çš„éšç§è®¾è®¡*
*Related: [03-dependency](./03-dependency.md) - ç‰ˆæœ¬åè°ƒä¸ä¾èµ–ç®¡ç†*